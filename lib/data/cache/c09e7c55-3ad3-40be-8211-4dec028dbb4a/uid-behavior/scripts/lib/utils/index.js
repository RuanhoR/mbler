import{EntityComponentTypes,EquipmentSlot}from"@minecraft/server";export class utils{static getAllPlayerInt(t){const e=new Map,n=t.getComponent("inventory").container;for(let t=0;t<n.size;t++){const o=n.getItem(t);if(!o)continue;let i=o.amount;const s=e.get(o.typeId);Array.isArray(s)&&(i+=s[1]),e.set(o.typeId,[o.typeId,i])}return e}static setMainHand(t,e){t.getComponent(EntityComponentTypes.Equippable).setEquipment(EquipmentSlot.Mainhand,e)}static removeItems(t,{name:e,count:n}={}){const o=t.getComponent("inventory").container;let i=n;for(let t=0;t<o.size;t++){const n=o.getItem(t);if(!n||!n.typeId||n.typeId!==e)continue;const s=n.amount;if(i>=s)o.setItem(t,null),i-=s;else{const e=i>=64?64:Math.max(i,n.amount)-Math.min(i,n.amount);n.amount=e,i-=e,o.setItem(t,n)}}}}